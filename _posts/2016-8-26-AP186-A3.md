---
layout: post
title: Scilab Basics (AP186 A3)
tags: AP186
---  

This isn't my first time working in Scilab, as I've had experience with it in the past years or so, all in the middle of that transitionary period in breaking away from being a stickler for a single programming language.

To begin, the following code block:

```java
t = [0:0.1:2];
y = sin(t);
plot(t,y)
````

generates this graph that displays part of a sine wave:

![graph](https://s15.postimg.org/eyx0fz1pn/image.png)

Going line-by-line, `t = [0:0.1:2];` creates a one-dimensional matrix with numbers from 0 to 2, equally spaced by 0.1 units. `y = sin(t);` computes the sine of each value in matrix `t` and stores it in matrix `y`. 

Matrix operations in Scilab are as simple as they could get. Addition of two matrices of the same dimensions is done with `+`, matrix multiplication with `*`, and element-by-element multiplication with `.*`.

Element-by-element multiplication is also useful in generating synthetic images to be used as image masks. The following code block for instance creates a circular aperture:

```java
nx = 100;
ny = 100;
x = linspace(-1,1,nx);
y = linspace(-1,1,ny);
[X,Y] = ndgrid(x,y);
r = sqrt(X.^2 + Y.^2);
A = zeros(nx,ny);
A (find(r<0.7)) = 1;
f = scf()
grayplot(x,y,A);
f.color_map = graycolormap(32);
```

![aperture](https://s9.postimg.org/eyhazzbxb/annulus.png)

From this example, we were tasked to create several synthetic images:

####Centered square aperture
```java
nx = 100;
ny = 100;
x = linspace(-1,1,nx);
y = linspace(-1,1,ny);
[X,Y] = ndgrid(x,y);
A = ones(nx, ny);
r = sqrt(X.^2);
A (find(r>0.5)) = 0;
r = sqrt(Y.^2);
A (find(r>0.5)) = 0;
f = scf()
grayplot(x,y,A);
f.color_map = graycolormap(32);
```

![square](https://s10.postimg.org/psw69l8eh/square.png)

####Sinusoid along the x-direction
```java
nx = 100;
ny = 100;
x = linspace(-1,1,nx);
y = linspace(-1,1,ny);
[X,Y] = ndgrid(x,y);
A = zeros(nx, ny);
A = cos(20*X);
f = scf()
grayplot(x,y,A);
f.color_map = graycolormap(32);
```

![sinusoid](https://s9.postimg.org/f3yko4c1r/sinusoid.png)

####Grating along the x-direction
```java
nx = 100;
ny = 100;
x = linspace(-1,1,nx);
y = linspace(-1,1,ny);
[X,Y] = ndgrid(x,y);
A = zeros(nx, ny);
r = cos(20*X);
A (find(r>0.7)) = 1;
f = scf()
grayplot(x,y,A);
f.color_map = graycolormap(32);
```

![grating](https://s22.postimg.org/uei6hpv1d/grating.png)

####Annulus
```java
nx = 100;
ny = 100;
x = linspace(-1,1,nx);
y = linspace(-1,1,ny);
[X,Y] = ndgrid(x,y);
r = sqrt(X.^2 + Y.^2);
A = zeros(nx, ny);
A (find(r<0.7)) = 1;
A (find(r<0.5)) = 0;
f = scf()
grayplot(x,y,A);
f.color_map = graycolormap(32);
```

![annulus](https://s4.postimg.org/he4ksoqb1/annulus2.png)

####Circular aperture with Gaussian transparency
```java
nx = 100;
ny = 100;
x = linspace(-1,1,nx);
y = linspace(-1,1,ny);
[X,Y] = ndgrid(x,y);
A =1 ./(0.5*sqrt(2*%pi))*exp(-(((X)/0.5).^2/2+((Y)/0.5).^2/2))
f = scf()
grayplot(x,y,A);
f.color_map = graycolormap(32);
```

![gauss](https://s13.postimg.org/a71j3tbuf/gaussap.png)

####Ellipse
```java
nx = 100;
ny = 100;
x = linspace(-1,1,nx);
y = linspace(-1,1,ny);
[X,Y] = ndgrid(x,y);
r = sqrt((X./1.3).^2 + Y.^2);
A = zeros(nx,ny);
A (find(r<0.7)) = 1;
f = scf()
grayplot(x,y,A);
f.color_map = graycolormap(32);
```

![ellipse](https://s21.postimg.org/sdg25mihj/ellipse.png)

####Cross
```java
nx = 100;
ny = 100;
x = linspace(-1,1,nx);
y = linspace(-1,1,ny);
[X,Y] = ndgrid(x,y);
A = zeros(nx, ny);
r = sqrt(X.^2);
A (find(r<0.3)) = 1;
r = sqrt(Y.^2);
A (find(r<0.3)) = 1;
f = scf()
grayplot(x,y,A);
f.color_map = graycolormap(32);
```

![cross](https://s11.postimg.org/qk95xobur/cross.png)

####Moiré

Of course, more complex synthetic images can be generated from many combinations of functions. The following code block, for instance, superimposes two sets of concentric circles shifted a small distance from each other to exhibit a Moiré effect.

```java
nx = 100;
ny = 100;
x = linspace(-1,1,nx);
y = linspace(-1,1,ny);
[X,Y] = ndgrid(x,y);

A = ones(nx,ny);
r = sqrt((X+.1).^2 + Y.^2);
A (find(r>0.95)) = 0;
for i = flipdim(0.05:0.1:0.95, dim = 2)
    A (find(r<i)) = 1;
    A (find(r<(i-0.05))) = 0;
end

B = ones(nx,ny);
r = sqrt((X-.1).^2 + Y.^2);
B (find(r>0.95)) = 0;
for i = flipdim(0.05:0.1:0.95, dim = 2)
    B (find(r<i)) = 1;
    B (find(r<(i-0.05))) = 0;
end

f = scf()
grayplot(x,y,A+B);
f.color_map = graycolormap(32);
```

![moire](https://s14.postimg.org/rs7qgoxnl/moire.png)